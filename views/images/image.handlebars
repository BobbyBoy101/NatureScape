<!-- Display single image from database -->
<h1>{{photo.name}}</h1>
<hr />
<div>

    <img
      class="responsive-img"
      src="data:image/{{photo.img.contentType}};base64,{{photo.img.data}}"
      alt="{{photo.name}}"
    />
    <div class="image-details">
      <p>{{photo.desc}}</p>
      <button onclick="deleteImage('{{photo._id}}')">Delete</button>
    </div>

</div>

<script>
    async function deleteImage(id) {
        console.log(`Attempting to delete image with id: ${id}`); // Debugging line
        const response = await fetch(`/images/${id}`, {
            method: 'DELETE'
        });
        if (response.ok) {
            console.log('Image deleted successfully'); // Debugging line
            window.location.href = '/images'; // Refresh page after deletion
        } else {
            console.error('Error deleting image:', response.statusText); // Debugging line
            alert('Error deleting image');
        }
    }
</script>
